{"ast":null,"code":"var _jsxFileName = \"E:\\\\CongNgheThongTinBk\\\\20221\\\\IotVaUngDung\\\\btl\\\\Nhom10\\\\sourcecode\\\\iot-web-fe\\\\src\\\\screens\\\\Profile\\\\context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport { getPublicDevices, getUserDevices } from \"../../services/devicesServices\"; //context\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProfileContext = /*#__PURE__*/createContext({}); //hook\n\nexport const useProfileContext = () => {\n  _s();\n\n  return useContext(ProfileContext);\n}; //provider\n\n_s(useProfileContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport const ProfileContextProvider = _ref => {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const [listDevices, setListDevices] = useState([]);\n  const [user, setUser] = useState({});\n  const [listPublicDevice, setListPublicDevices] = useState([]);\n  useEffect(() => {\n    getListDevices();\n    getListPublicDevices();\n  }, []);\n\n  const getListDevices = async () => {\n    const res = await getUserDevices();\n    setListDevices(res === null || res === void 0 ? void 0 : res.devices);\n    setUser(res === null || res === void 0 ? void 0 : res.user);\n  };\n\n  const getListPublicDevices = async () => {\n    const res = await getPublicDevices();\n    setListPublicDevices(res);\n  };\n\n  const value = useMemo(() => ({\n    listDevices,\n    getListDevices,\n    user,\n    listPublicDevice\n  }), [listDevices, user, listPublicDevice]);\n  return /*#__PURE__*/_jsxDEV(ProfileContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(ProfileContextProvider, \"nbxGRUk1gZ2KvRGMRALcXZq97G4=\");\n\n_c = ProfileContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileContextProvider\");","map":{"version":3,"sources":["E:/CongNgheThongTinBk/20221/IotVaUngDung/btl/Nhom10/sourcecode/iot-web-fe/src/screens/Profile/context.js"],"names":["createContext","useContext","useEffect","useMemo","useState","getPublicDevices","getUserDevices","ProfileContext","useProfileContext","ProfileContextProvider","children","listDevices","setListDevices","user","setUser","listPublicDevice","setListPublicDevices","getListDevices","getListPublicDevices","res","devices","value"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,EAA+CC,OAA/C,EAAwDC,QAAxD,QAAwE,OAAxE;AACA,SAASC,gBAAT,EAA2BC,cAA3B,QAAiD,gCAAjD,C,CAEA;;;AACA,OAAO,MAAMC,cAAc,gBAAGP,aAAa,CAAC,EAAD,CAApC,C,CAEP;;AACA,OAAO,MAAMQ,iBAAiB,GAAG;AAAA;;AAAA,SAAMP,UAAU,CAACM,cAAD,CAAhB;AAAA,CAA1B,C,CAEP;;GAFaC,iB;;AAGb,OAAO,MAAMC,sBAAsB,GAAG,QAAkB;AAAA;;AAAA,MAAjB;AAAEC,IAAAA;AAAF,GAAiB;AACtD,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCR,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACW,gBAAD,EAAmBC,oBAAnB,IAA2CZ,QAAQ,CAAC,EAAD,CAAzD;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACde,IAAAA,cAAc;AACdC,IAAAA,oBAAoB;AACrB,GAHQ,EAGN,EAHM,CAAT;;AAKA,QAAMD,cAAc,GAAG,YAAY;AACjC,UAAME,GAAG,GAAG,MAAMb,cAAc,EAAhC;AACAM,IAAAA,cAAc,CAACO,GAAD,aAACA,GAAD,uBAACA,GAAG,CAAEC,OAAN,CAAd;AACAN,IAAAA,OAAO,CAACK,GAAD,aAACA,GAAD,uBAACA,GAAG,CAAEN,IAAN,CAAP;AACD,GAJD;;AAMA,QAAMK,oBAAoB,GAAG,YAAY;AACvC,UAAMC,GAAG,GAAG,MAAMd,gBAAgB,EAAlC;AACAW,IAAAA,oBAAoB,CAACG,GAAD,CAApB;AACD,GAHD;;AAKA,QAAME,KAAK,GAAGlB,OAAO,CAAC,OAAO;AAC3BQ,IAAAA,WAD2B;AACdM,IAAAA,cADc;AACEJ,IAAAA,IADF;AACQE,IAAAA;AADR,GAAP,CAAD,EAGnB,CAACJ,WAAD,EAAcE,IAAd,EAAoBE,gBAApB,CAHmB,CAArB;AAIA,sBACE,QAAC,cAAD,CAAgB,QAAhB;AAAyB,IAAA,KAAK,EAAEM,KAAhC;AAAA,cACGX;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CA9BM;;IAAMD,sB;;KAAAA,sB","sourcesContent":["import { createContext, useContext, useEffect, useMemo, useState } from \"react\"\r\nimport { getPublicDevices, getUserDevices } from \"../../services/devicesServices\"\r\n\r\n//context\r\nexport const ProfileContext = createContext({})\r\n\r\n//hook\r\nexport const useProfileContext = () => useContext(ProfileContext)\r\n\r\n//provider\r\nexport const ProfileContextProvider = ({ children }) => {\r\n  const [listDevices, setListDevices] = useState([])\r\n  const [user, setUser] = useState({})\r\n  const [listPublicDevice, setListPublicDevices] = useState([])\r\n\r\n  useEffect(() => {\r\n    getListDevices()\r\n    getListPublicDevices()\r\n  }, [])\r\n\r\n  const getListDevices = async () => {\r\n    const res = await getUserDevices()\r\n    setListDevices(res?.devices)\r\n    setUser(res?.user)\r\n  }\r\n\r\n  const getListPublicDevices = async () => {\r\n    const res = await getPublicDevices()\r\n    setListPublicDevices(res)\r\n  }\r\n\r\n  const value = useMemo(() => ({\r\n    listDevices, getListDevices, user, listPublicDevice\r\n  }),\r\n    [listDevices, user, listPublicDevice])\r\n  return (\r\n    <ProfileContext.Provider value={value}>\r\n      {children}\r\n    </ProfileContext.Provider>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}