{"ast":null,"code":"import { getAsyncWithToken, postAsync } from \"../constant/request\";\nfunction getCookie() {\n  let name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'currentuser';\n  const v = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');\n  return v ? v[2] : null;\n}\nexport async function login(params) {\n  const url = process.env.REACT_APP_BACK_END + '/users/login';\n  const response = await postAsync(url, params);\n  return (response === null || response === void 0 ? void 0 : response.data) || [];\n}\nexport async function signup(data) {\n  const url = process.env.REACT_APP_BACK_END + '/users';\n  const response = await postAsync(url, data);\n  return (response === null || response === void 0 ? void 0 : response.data) || [];\n}\nexport async function getUserInfo() {\n  const url = process.env.REACT_APP_BACK_END + '/users/currentuser';\n  const response = await getAsyncWithToken(url);\n  return (response === null || response === void 0 ? void 0 : response.data) || [];\n}\nexport async function logoutUser() {\n  const url = process.env.REACT_APP_BACK_END + '/users/logout';\n  await fetch(url, {\n    method: 'POST',\n    cache: 'no-cache',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + getCookie(),\n      'Accept': 'application/json'\n    }\n  }).then(data => {\n    console.log('data', data === null || data === void 0 ? void 0 : data.statusText);\n    return (data === null || data === void 0 ? void 0 : data.statusText) || '';\n  }).catch(err => console.log(`err`, err));\n}","map":{"version":3,"names":["getAsyncWithToken","postAsync","getCookie","name","v","document","cookie","match","login","params","url","process","env","REACT_APP_BACK_END","response","data","signup","getUserInfo","logoutUser","fetch","method","cache","headers","then","console","log","statusText","catch","err"],"sources":["D:/Hoc Tap BKHN/2023-1/IoT-Project/Frontend_IOT/src/services/authenService.js"],"sourcesContent":["import { getAsyncWithToken, postAsync } from \"../constant/request\";\r\n\r\n\r\nfunction getCookie(name = 'currentuser') {\r\n  const v = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');\r\n  return v ? v[2] : null;\r\n}\r\n\r\nexport async function login(params) {\r\n  const url = process.env.REACT_APP_BACK_END + '/users/login'\r\n  const response = await postAsync(url, params)\r\n  return response?.data || []\r\n}\r\nexport async function signup(data) {\r\n  const url = process.env.REACT_APP_BACK_END + '/users'\r\n  const response = await postAsync(url, data)\r\n  return response?.data || []\r\n}\r\nexport async function getUserInfo() {\r\n  const url = process.env.REACT_APP_BACK_END + '/users/currentuser'\r\n  const response = await getAsyncWithToken(url)\r\n  return response?.data || []\r\n}\r\nexport async function logoutUser() {\r\n  const url = process.env.REACT_APP_BACK_END + '/users/logout'\r\n  await fetch(url, {\r\n    method: 'POST',\r\n    cache: 'no-cache',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': 'Bearer ' + getCookie(),\r\n      'Accept': 'application/json',\r\n    }\r\n  },\r\n  ).then(data => { console.log('data', data?.statusText);return data?.statusText || '' })\r\n    .catch(err => console.log(`err`, err))\r\n}"],"mappings":"AAAA,SAASA,iBAAiB,EAAEC,SAAS,QAAQ,qBAAqB;AAGlE,SAASC,SAAS,GAAuB;EAAA,IAAtBC,IAAI,uEAAG,aAAa;EACrC,MAAMC,CAAC,GAAGC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,SAAS,GAAGJ,IAAI,GAAG,eAAe,CAAC;EACnE,OAAOC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;AACxB;AAEA,OAAO,eAAeI,KAAK,CAACC,MAAM,EAAE;EAClC,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,cAAc;EAC3D,MAAMC,QAAQ,GAAG,MAAMb,SAAS,CAACS,GAAG,EAAED,MAAM,CAAC;EAC7C,OAAO,CAAAK,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,IAAI,KAAI,EAAE;AAC7B;AACA,OAAO,eAAeC,MAAM,CAACD,IAAI,EAAE;EACjC,MAAML,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,QAAQ;EACrD,MAAMC,QAAQ,GAAG,MAAMb,SAAS,CAACS,GAAG,EAAEK,IAAI,CAAC;EAC3C,OAAO,CAAAD,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,IAAI,KAAI,EAAE;AAC7B;AACA,OAAO,eAAeE,WAAW,GAAG;EAClC,MAAMP,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,oBAAoB;EACjE,MAAMC,QAAQ,GAAG,MAAMd,iBAAiB,CAACU,GAAG,CAAC;EAC7C,OAAO,CAAAI,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,IAAI,KAAI,EAAE;AAC7B;AACA,OAAO,eAAeG,UAAU,GAAG;EACjC,MAAMR,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,eAAe;EAC5D,MAAMM,KAAK,CAACT,GAAG,EAAE;IACfU,MAAM,EAAE,MAAM;IACdC,KAAK,EAAE,UAAU;IACjBC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,SAAS,GAAGpB,SAAS,EAAE;MACxC,QAAQ,EAAE;IACZ;EACF,CAAC,CACA,CAACqB,IAAI,CAACR,IAAI,IAAI;IAAES,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEV,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEW,UAAU,CAAC;IAAC,OAAO,CAAAX,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEW,UAAU,KAAI,EAAE;EAAC,CAAC,CAAC,CACpFC,KAAK,CAACC,GAAG,IAAIJ,OAAO,CAACC,GAAG,CAAE,KAAI,EAAEG,GAAG,CAAC,CAAC;AAC1C"},"metadata":{},"sourceType":"module"}