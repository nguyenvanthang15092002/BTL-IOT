{"ast":null,"code":"var _jsxFileName = \"E:\\\\CongNgheThongTinBk\\\\20221\\\\Project_3\\\\iot-btl\\\\client\\\\src\\\\screens\\\\Statistics\\\\components\\\\DeviceLocation.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport ReactMapGL, { FullscreenControl, Marker } from 'react-map-gl';\nimport { useStatisticsContext } from \"../context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DeviceLocation = _ref => {\n  _s();\n  let {\n    data\n  } = _ref;\n  // console.log(data.location[0])\n  const {\n    device\n  } = useStatisticsContext();\n  console.log(device.location);\n  const mapRef = useRef();\n  const [viewport, setViewport] = useState({\n    width: \"50%\",\n    height: '805px',\n    latitude: parseFloat(device === null || device === void 0 ? void 0 : device.location[0]) || 21.437,\n    longitude: parseFloat(device === null || device === void 0 ? void 0 : device.location[1]) || 105.123,\n    zoom: 16\n  });\n  const fullscreenControlStyle = {\n    right: 10,\n    bottom: 10\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(ReactMapGL, {\n      ref: mapRef,\n      ...viewport,\n      mapStyle: \"mapbox://styles/mapbox/streets-v11\",\n      onViewportChange: nextViewport => setViewport(nextViewport),\n      mapboxApiAccessToken: process.env.REACT_APP_MAP_API_TOKEN,\n      children: [/*#__PURE__*/_jsxDEV(Marker, {\n        latitude: parseFloat(device === null || device === void 0 ? void 0 : device.location[0]) || 21.437,\n        longitude: parseFloat(device === null || device === void 0 ? void 0 : device.location[1]) || 105.123,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#FFA35C',\n            borderRadius: '50%',\n            width: '50px',\n            height: '50px',\n            paddingTop: '10px',\n            color: 'white'\n          },\n          children: data === null || data === void 0 ? void 0 : data.deviceName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }, this)\n      }, (data === null || data === void 0 ? void 0 : data._id) || \"Hanoi\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(FullscreenControl, {\n        style: fullscreenControlStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n_s(DeviceLocation, \"l/lLcyy1yzi/fzlz1bvs2LH2gCg=\", false, function () {\n  return [useStatisticsContext];\n});\n_c = DeviceLocation;\nexport default DeviceLocation;\nvar _c;\n$RefreshReg$(_c, \"DeviceLocation\");","map":{"version":3,"names":["React","useRef","useState","ReactMapGL","FullscreenControl","Marker","useStatisticsContext","DeviceLocation","data","device","console","log","location","mapRef","viewport","setViewport","width","height","latitude","parseFloat","longitude","zoom","fullscreenControlStyle","right","bottom","nextViewport","process","env","REACT_APP_MAP_API_TOKEN","background","borderRadius","paddingTop","color","deviceName","_id"],"sources":["E:/CongNgheThongTinBk/20221/Project_3/iot-btl/client/src/screens/Statistics/components/DeviceLocation.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport ReactMapGL, { FullscreenControl, Marker } from 'react-map-gl';\r\nimport {useStatisticsContext} from \"../context\";\r\n\r\n\r\nconst DeviceLocation = ({ data }) => {\r\n  // console.log(data.location[0])\r\n  const { device } = useStatisticsContext()\r\n  console.log(device.location)\r\n  const mapRef = useRef();\r\n  const [viewport, setViewport] = useState({\r\n    width: \"50%\",\r\n    height: '805px',\r\n    latitude:  parseFloat(device?.location[0]) || 21.437,\r\n    longitude:  parseFloat(device?.location[1]) || 105.123 ,\r\n    zoom: 16\r\n  });\r\n  const fullscreenControlStyle = {\r\n    right: 10,\r\n    bottom: 10\r\n  };\r\n\r\n\r\n  return <>\r\n    <ReactMapGL\r\n      ref={mapRef}\r\n      {...viewport}\r\n      mapStyle=\"mapbox://styles/mapbox/streets-v11\"\r\n      onViewportChange={nextViewport => setViewport(nextViewport)}\r\n      mapboxApiAccessToken={process.env.REACT_APP_MAP_API_TOKEN}>\r\n\r\n      <Marker\r\n        key={data?._id || \"Hanoi\"}\r\n        latitude={ parseFloat(device?.location[0]) || 21.437 }\r\n        longitude={ parseFloat(device?.location[1]) || 105.123 }\r\n\r\n      >\r\n        <div\r\n        style={{ background: '#FFA35C', borderRadius: '50%', width: '50px', height: '50px', paddingTop: '10px', color:'white' }}>\r\n        {data?.deviceName}</div>\r\n      </Marker>\r\n\r\n      <FullscreenControl style={fullscreenControlStyle} />\r\n    </ReactMapGL>\r\n  </>;\r\n}\r\nexport default DeviceLocation\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,OAAOC,UAAU,IAAIC,iBAAiB,EAAEC,MAAM,QAAQ,cAAc;AACpE,SAAQC,oBAAoB,QAAO,YAAY;AAAC;AAAA;AAGhD,MAAMC,cAAc,GAAG,QAAc;EAAA;EAAA,IAAb;IAAEC;EAAK,CAAC;EAC9B;EACA,MAAM;IAAEC;EAAO,CAAC,GAAGH,oBAAoB,EAAE;EACzCI,OAAO,CAACC,GAAG,CAACF,MAAM,CAACG,QAAQ,CAAC;EAC5B,MAAMC,MAAM,GAAGZ,MAAM,EAAE;EACvB,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC;IACvCc,KAAK,EAAE,KAAK;IACZC,MAAM,EAAE,OAAO;IACfC,QAAQ,EAAGC,UAAU,CAACV,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,MAAM;IACpDQ,SAAS,EAAGD,UAAU,CAACV,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,OAAO;IACtDS,IAAI,EAAE;EACR,CAAC,CAAC;EACF,MAAMC,sBAAsB,GAAG;IAC7BC,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE;EACV,CAAC;EAGD,oBAAO;IAAA,uBACL,QAAC,UAAU;MACT,GAAG,EAAEX,MAAO;MAAA,GACRC,QAAQ;MACZ,QAAQ,EAAC,oCAAoC;MAC7C,gBAAgB,EAAEW,YAAY,IAAIV,WAAW,CAACU,YAAY,CAAE;MAC5D,oBAAoB,EAAEC,OAAO,CAACC,GAAG,CAACC,uBAAwB;MAAA,wBAE1D,QAAC,MAAM;QAEL,QAAQ,EAAGT,UAAU,CAACV,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,MAAQ;QACtD,SAAS,EAAGO,UAAU,CAACV,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,OAAS;QAAA,uBAGxD;UACA,KAAK,EAAE;YAAEiB,UAAU,EAAE,SAAS;YAAEC,YAAY,EAAE,KAAK;YAAEd,KAAK,EAAE,MAAM;YAAEC,MAAM,EAAE,MAAM;YAAEc,UAAU,EAAE,MAAM;YAAEC,KAAK,EAAC;UAAQ,CAAE;UAAA,UACvHxB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyB;QAAU;UAAA;UAAA;UAAA;QAAA;MAAO,GAPnB,CAAAzB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE0B,GAAG,KAAI,OAAO;QAAA;QAAA;QAAA;MAAA,QAQlB,eAET,QAAC,iBAAiB;QAAC,KAAK,EAAEZ;MAAuB;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA;MAAA;MAAA;MAAA;IAAA;EACzC,iBACZ;AACL,CAAC;AAAA,GAxCKf,cAAc;EAAA,QAECD,oBAAoB;AAAA;AAAA,KAFnCC,cAAc;AAyCpB,eAAeA,cAAc;AAAA;AAAA"},"metadata":{},"sourceType":"module"}