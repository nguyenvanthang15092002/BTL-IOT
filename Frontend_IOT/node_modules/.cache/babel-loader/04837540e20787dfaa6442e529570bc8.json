{"ast":null,"code":"import { deleteAsyncWithToken, getAsync, getAsyncWithToken, postAsyncWithToken, putAsyncWithToken } from \"../constant/request\";\nfunction getCookie() {\n  let name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'userid';\n  const v = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');\n  return v ? v[2] : null;\n}\nfunction getCookieUser() {\n  let name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'currentuser';\n  const v = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');\n  return v ? v[2] : null;\n}\nexport async function getUserDevices() {\n  const url = process.env.REACT_APP_BACK_END + '/users/' + getCookie();\n  const response = await getAsyncWithToken(url);\n  return (response === null || response === void 0 ? void 0 : response.data) || [];\n}\nexport async function deleteDeviceById(deviceId) {\n  const url = process.env.REACT_APP_BACK_END + '/devices/' + deviceId;\n  const response = await deleteAsyncWithToken(url);\n  return (response === null || response === void 0 ? void 0 : response.data) || [];\n}\nexport async function updateDeviceById(deviceId) {\n  let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const url = process.env.REACT_APP_BACK_END + '/devices/' + deviceId;\n  const response = await putAsyncWithToken(url, params);\n  return (response === null || response === void 0 ? void 0 : response.data) || [];\n}\nexport async function getDeviceById(deviceId) {\n  const url = process.env.REACT_APP_BACK_END + '/devices/' + deviceId;\n  const response = await getAsyncWithToken(url);\n  return (response === null || response === void 0 ? void 0 : response.data) || [];\n}\nexport async function updateDeviceByIdFetch(deviceId) {\n  let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const url = process.env.REACT_APP_BACK_END + '/devices/' + deviceId;\n  await fetch(url, {\n    method: 'PUT',\n    cache: 'no-cache',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + getCookieUser(),\n      'Accept': 'application/json'\n    },\n    body: JSON.stringify(params)\n  }).then(data => {\n    return (data === null || data === void 0 ? void 0 : data.data) || [];\n  }).catch(err => console.log(`err`, err));\n  // const response = await putAsyncWithToken(url, params)\n  // console.log(`response`, response, params)\n}\n\nexport async function addDeviceById(param) {\n  const url = process.env.REACT_APP_BACK_END + '/users/' + getCookie() + '/devices';\n  const response = await postAsyncWithToken(url, param);\n  return (response === null || response === void 0 ? void 0 : response.data) || [];\n}\nexport async function addDeviceByIdFetch() {\n  let params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const url = process.env.REACT_APP_BACK_END + '/users/' + getCookie() + '/devices';\n  await fetch(url, {\n    method: 'POST',\n    cache: 'no-cache',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + getCookieUser(),\n      'Accept': 'application/json'\n    },\n    body: JSON.stringify(params)\n  }).then(data => {\n    return (data === null || data === void 0 ? void 0 : data.data) || [];\n  }).catch(err => console.log(`err`, err));\n  // const response = await putAsyncWithToken(url, params)\n  // console.log(`response`, response, params)\n}\n\nexport async function getPublicDevices() {\n  let url = process.env.REACT_APP_BACK_END + '/devices/publicDevices';\n  const response = await getAsync(url);\n  return (response === null || response === void 0 ? void 0 : response.data) || [];\n}","map":{"version":3,"names":["deleteAsyncWithToken","getAsync","getAsyncWithToken","postAsyncWithToken","putAsyncWithToken","getCookie","name","v","document","cookie","match","getCookieUser","getUserDevices","url","process","env","REACT_APP_BACK_END","response","data","deleteDeviceById","deviceId","updateDeviceById","params","getDeviceById","updateDeviceByIdFetch","fetch","method","cache","headers","body","JSON","stringify","then","catch","err","console","log","addDeviceById","param","addDeviceByIdFetch","getPublicDevices"],"sources":["D:/SOFTWARE/Coder IT/IOT_Project/Frontend_IOT/src/services/devicesServices.js"],"sourcesContent":["import { deleteAsyncWithToken, getAsync, getAsyncWithToken, postAsyncWithToken, putAsyncWithToken } from \"../constant/request\";\r\n\r\nfunction getCookie(name = 'userid') {\r\n  const v = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');\r\n  return v ? v[2] : null;\r\n}\r\n\r\nfunction getCookieUser(name = 'currentuser') {\r\n  const v = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');\r\n  return v ? v[2] : null;\r\n}\r\n\r\nexport async function getUserDevices() {\r\n  const url = process.env.REACT_APP_BACK_END + '/users/' + getCookie()\r\n  const response = await getAsyncWithToken(url)\r\n  return response?.data || []\r\n}\r\n\r\nexport async function deleteDeviceById(deviceId) {\r\n  const url = process.env.REACT_APP_BACK_END + '/devices/' + deviceId\r\n  const response = await deleteAsyncWithToken(url)\r\n  return response?.data || []\r\n}\r\nexport async function updateDeviceById(deviceId, params = {}) {\r\n  const url = process.env.REACT_APP_BACK_END + '/devices/' + deviceId\r\n  const response = await putAsyncWithToken(url, params)\r\n  return response?.data || []\r\n}\r\nexport async function getDeviceById(deviceId) {\r\n  const url = process.env.REACT_APP_BACK_END + '/devices/' + deviceId\r\n  const response = await getAsyncWithToken(url)\r\n  return response?.data || []\r\n}\r\n\r\nexport async function updateDeviceByIdFetch(deviceId, params = {}) {\r\n  const url = process.env.REACT_APP_BACK_END + '/devices/' + deviceId\r\n  await fetch(url, {\r\n    method: 'PUT',\r\n    cache: 'no-cache',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': 'Bearer ' + getCookieUser(),\r\n      'Accept': 'application/json',\r\n    },\r\n    body: JSON.stringify(params)\r\n  },\r\n  ).then(data => { return data?.data || [] })\r\n    .catch(err => console.log(`err`, err))\r\n  // const response = await putAsyncWithToken(url, params)\r\n  // console.log(`response`, response, params)\r\n\r\n}\r\n\r\nexport async function addDeviceById(param) {\r\n  const url = process.env.REACT_APP_BACK_END + '/users/' + getCookie() + '/devices'\r\n  const response = await postAsyncWithToken(url, param)\r\n  return response?.data || []\r\n}\r\n\r\nexport async function addDeviceByIdFetch(params = {}) {\r\n  const url = process.env.REACT_APP_BACK_END + '/users/' + getCookie() + '/devices'\r\n  await fetch(url, {\r\n    method: 'POST',\r\n    cache: 'no-cache',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': 'Bearer ' + getCookieUser(),\r\n      'Accept': 'application/json',\r\n    },\r\n    body: JSON.stringify(params)\r\n  },\r\n  ).then(data => { return data?.data || [] })\r\n    .catch(err => console.log(`err`, err))\r\n  // const response = await putAsyncWithToken(url, params)\r\n  // console.log(`response`, response, params)\r\n\r\n}\r\nexport async function getPublicDevices() {\r\n  let url = process.env.REACT_APP_BACK_END + '/devices/publicDevices'\r\n  const response = await getAsync(url)\r\n  return response?.data || []\r\n}"],"mappings":"AAAA,SAASA,oBAAoB,EAAEC,QAAQ,EAAEC,iBAAiB,EAAEC,kBAAkB,EAAEC,iBAAiB,QAAQ,qBAAqB;AAE9H,SAASC,SAAS,GAAkB;EAAA,IAAjBC,IAAI,uEAAG,QAAQ;EAChC,MAAMC,CAAC,GAAGC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,SAAS,GAAGJ,IAAI,GAAG,eAAe,CAAC;EACnE,OAAOC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;AACxB;AAEA,SAASI,aAAa,GAAuB;EAAA,IAAtBL,IAAI,uEAAG,aAAa;EACzC,MAAMC,CAAC,GAAGC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,SAAS,GAAGJ,IAAI,GAAG,eAAe,CAAC;EACnE,OAAOC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;AACxB;AAEA,OAAO,eAAeK,cAAc,GAAG;EACrC,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,SAAS,GAAGX,SAAS,EAAE;EACpE,MAAMY,QAAQ,GAAG,MAAMf,iBAAiB,CAACW,GAAG,CAAC;EAC7C,OAAO,CAAAI,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,IAAI,KAAI,EAAE;AAC7B;AAEA,OAAO,eAAeC,gBAAgB,CAACC,QAAQ,EAAE;EAC/C,MAAMP,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,WAAW,GAAGI,QAAQ;EACnE,MAAMH,QAAQ,GAAG,MAAMjB,oBAAoB,CAACa,GAAG,CAAC;EAChD,OAAO,CAAAI,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,IAAI,KAAI,EAAE;AAC7B;AACA,OAAO,eAAeG,gBAAgB,CAACD,QAAQ,EAAe;EAAA,IAAbE,MAAM,uEAAG,CAAC,CAAC;EAC1D,MAAMT,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,WAAW,GAAGI,QAAQ;EACnE,MAAMH,QAAQ,GAAG,MAAMb,iBAAiB,CAACS,GAAG,EAAES,MAAM,CAAC;EACrD,OAAO,CAAAL,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,IAAI,KAAI,EAAE;AAC7B;AACA,OAAO,eAAeK,aAAa,CAACH,QAAQ,EAAE;EAC5C,MAAMP,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,WAAW,GAAGI,QAAQ;EACnE,MAAMH,QAAQ,GAAG,MAAMf,iBAAiB,CAACW,GAAG,CAAC;EAC7C,OAAO,CAAAI,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,IAAI,KAAI,EAAE;AAC7B;AAEA,OAAO,eAAeM,qBAAqB,CAACJ,QAAQ,EAAe;EAAA,IAAbE,MAAM,uEAAG,CAAC,CAAC;EAC/D,MAAMT,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,WAAW,GAAGI,QAAQ;EACnE,MAAMK,KAAK,CAACZ,GAAG,EAAE;IACfa,MAAM,EAAE,KAAK;IACbC,KAAK,EAAE,UAAU;IACjBC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,SAAS,GAAGjB,aAAa,EAAE;MAC5C,QAAQ,EAAE;IACZ,CAAC;IACDkB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,MAAM;EAC7B,CAAC,CACA,CAACU,IAAI,CAACd,IAAI,IAAI;IAAE,OAAO,CAAAA,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEA,IAAI,KAAI,EAAE;EAAC,CAAC,CAAC,CACxCe,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAAE,KAAI,EAAEF,GAAG,CAAC,CAAC;EACxC;EACA;AAEF;;AAEA,OAAO,eAAeG,aAAa,CAACC,KAAK,EAAE;EACzC,MAAMzB,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,SAAS,GAAGX,SAAS,EAAE,GAAG,UAAU;EACjF,MAAMY,QAAQ,GAAG,MAAMd,kBAAkB,CAACU,GAAG,EAAEyB,KAAK,CAAC;EACrD,OAAO,CAAArB,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,IAAI,KAAI,EAAE;AAC7B;AAEA,OAAO,eAAeqB,kBAAkB,GAAc;EAAA,IAAbjB,MAAM,uEAAG,CAAC,CAAC;EAClD,MAAMT,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,SAAS,GAAGX,SAAS,EAAE,GAAG,UAAU;EACjF,MAAMoB,KAAK,CAACZ,GAAG,EAAE;IACfa,MAAM,EAAE,MAAM;IACdC,KAAK,EAAE,UAAU;IACjBC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,SAAS,GAAGjB,aAAa,EAAE;MAC5C,QAAQ,EAAE;IACZ,CAAC;IACDkB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,MAAM;EAC7B,CAAC,CACA,CAACU,IAAI,CAACd,IAAI,IAAI;IAAE,OAAO,CAAAA,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEA,IAAI,KAAI,EAAE;EAAC,CAAC,CAAC,CACxCe,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAAE,KAAI,EAAEF,GAAG,CAAC,CAAC;EACxC;EACA;AAEF;;AACA,OAAO,eAAeM,gBAAgB,GAAG;EACvC,IAAI3B,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,wBAAwB;EACnE,MAAMC,QAAQ,GAAG,MAAMhB,QAAQ,CAACY,GAAG,CAAC;EACpC,OAAO,CAAAI,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,IAAI,KAAI,EAAE;AAC7B"},"metadata":{},"sourceType":"module"}